<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>UNO Game Board</title>
    <style>
        /* 100% page height for a background: https://stackoverflow.com/questions/712689/css-div-stretch-100-page-height */
        html{
            /* Setting the HTML tag to be with height of the viewport */
            min-height:100%;/* make sure it is at least as tall as the viewport */
            position:relative;
        }

        /* Background effect taken from: https://1stwebdesigner.com/15-css-background-effects/ */
        body{
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradient 30s ease infinite;  /* transition effect for the background, loops infinitely */
            height: 100vh;
            font-family:Calibri, sans-serif;
        }
        @keyframes gradient {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

        .row {
            border: green solid 1px;
            display: flex; /* So the Columns in the row display next to each other */
            flex-flow: row;

            /* Sets the column container to 100% height, matching the HTML & BODY tags */
            position:absolute;
            top:0;
            bottom:0;
            left:0;
            right:0;
        }

        .column {
            border: red solid 1px;

        }
        .playerBoxShow{
            border: blue solid 2px;
            height:23%; /*THIS BEING REMOVED RESULTS IN THE CARDS RESIZING TO THEIR DEFAULT SIZE!!!! */
            /*Otherwise the play box doesn't HAVE a height, so it auto-resizes to the size of the cards.
            Then the card height having a % in it doesn't matter, cuz its a percent of nothing
             */
            margin: .2%;
            border-radius:1em;
        }
        .playerBoxHide {
            display:none;
        }

        .playerActive:hover, .playerActive:focus{
            cursor: pointer;
        }

        .hideElement{
            display:none;
        }

        /* For all non-active players, this is used to have all IMG tags only display the back of the card */
        .backOfCardImages{
            content:url("/Code/Cards/Deck.png") !important;
        }



        @keyframes flash {
            0% {
                box-shadow: inset 0px 0px 200px 200px rgb(217, 6, 6);
            }
            100% {
                box-shadow: inset 0px 0px 0px 0px rgb(217, 6, 6);
            }
        }

        .borderFlash {
            animation: flash .5s 1;
        }


        /*------------------------------Modal Box Styling -------------------------------------------------*/

        /* The Modal (background) */
        .modalBackground {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1; /* Sit on top */
            padding-top: 20em; /* Location of the box from the top of the page*/
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgb(0,0,0); /* Fallback color */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
            cursor: pointer; /* To indicate to the user that they can click outside the box to close it */
        }

        .modalBackgroundBlackedOut{
            background-color: rgba(0,0,0,1) !important; /* Black w/ opacity */

        }

        /* Modal Content */
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            border-radius:2em; /* Rounded so it looks similar to the cards */
            cursor: default;
        }

        /* Modal Close Button */
        .close {
            color: #aaaaaa;
            float: right;
            font-size: 50px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
<!-- defer is used so that the entire DOM is loaded before the JS is run, so that the event handlers are correctly tied to their UI elements-->
<script defer type="text/javascript" src="GameBoard.js"></script>


<div class="row">
    <div class="column" style="flex: 60% !important; min-width: 50%">
        <div id="playerBox0" class="playerBoxShow">
            <div id="playerName0">Player 1</div>
            <div id="playerHand0" class="playerHand"> HAND!!!</div>
        </div>
        <div id="playerBox1" class="playerBoxShow">
            <div id="playerName1">Player 2</div>
            <div id="playerHand1" class="playerHand"> HAND!!!</div>
        </div>
        <div id="playerBox2" class="playerBoxShow">
            <div id="playerName2">Player 3</div>
            <div id="playerHand2" class="playerHand"> HAND!!!</div>
        </div>
        <div id="playerBox3" class="playerBoxShow">
            <div id="playerName3">Player 4 AKA Computer</div>
            <div id="player4Hand3" class="playerHand"> HAND!!!</div>
        </div>


    </div>
    <div class="column" style="flex: 39% !important; max-width: 50%; flex-flow: column">
        <div style="border: yellow solid 3px; height:45%; width: 100%; overflow-x: auto;">
            <div id="buttonBar">
                <button onclick="(function(){
                    let temp = document.getElementsByTagName('body');
                    temp[0].className = 'borderFlash';
//After the animation runs, the class needs to be changed back.
    //best way to do that: https://stackoverflow.com/questions/50742142/run-js-script-after-css-animation-is-finished
    //Other way to do that: https://stackoverflow.com/questions/14226803/wait-5-seconds-before-executing-next-line
                    })();return false;
">click to blink</button>
                <button id="helpButton" onclick="">Help & Game Rules</button>
                <button id="shuffleButton" onclick="">Shuffle Deck</button>
                <button id="resetButton" onclick="">Reset Game</button>
            </div>
            <div id="activePlayerUI" style='text-align: center;'>
                <div id="activePlayerUItitle">Current player:</div>
                <div id="activePlayerUIplayer"></div>
            </div>
            <div id="nextPlayerUI" style='text-align: center;'>
                <div id="nextPlayerUItitle">Next player:</div>
                <div id="nextPlayerUIplayer"></div>
            </div>
            <div id="miscMessageUI">Any misc messages needed</div>
            <div id="wildColorUI">Color selected for Wild</div>
            <div id="continueButtonNextPlayer" style="display:none"><button onclick="continueToNextPlayer()">Continue: End your turn instead of playing a card & Continue to next player</button></div>
        </div>
        <div style="border: yellow solid 3px; height: 45%; display: flex; overflow-x: auto;">
            <div style="height:90%; border:orange solid 3px; margin-left:1%; margin-bottom:5%;">
                <img id="UIDiscardCard" src="/Code/Cards/Deck.png" alt="Discard Card" style="height:100%;width:auto;"/>
            </div>
            <div style="height:90%; border:orange solid 3px; margin-left:1%;margin-bottom:5%;">
                <img id="UIDeck" src="/Code/Cards/Deck.png" alt="Deck" style="height:100%;width:auto; cursor: pointer"/>
            </div>
        </div>
    </div>
</div>



<div id="modalBackground" class="modalBackground">
    <div class="modal-content">
        <span class="close">&times;</span>
        <div id="modalContentDiv">
        </div>
    </div>
</div>

<div id="modalBackgroundWild" class="modalBackground">
    <div class="modal-contentWild">
        <span class="close">&times;</span>
        <div id="modalContentWild">

        </div>
    </div>
</div>

<div id="modalBackgroundContinue" class="modalBackground">
    <div class="modal-contentContinue">
        <span class="close">&times;</span>
        <div id="modalContentContinue">

        </div>
    </div>
</div>

</body>
</html>