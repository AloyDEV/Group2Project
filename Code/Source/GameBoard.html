<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>UNO In The Browser</title>
    <link rel="icon" href="http://www.unointhebrowser.com/Code/Cards/Deck_Small2.png">
    <style>
        /* 100% page height for a background: https://stackoverflow.com/questions/712689/css-div-stretch-100-page-height */
        html{
            /* Setting the HTML tag to be with height of the viewport */
            min-height:100%;/* make sure it is at least as tall as the viewport */
            position:relative;
        }

        /* Background effect taken from: https://1stwebdesigner.com/15-css-background-effects/ */
        body{
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradient 30s ease infinite;  /* transition effect for the background, loops infinitely */
            height: 100vh;
            font-family:Calibri, sans-serif;
            padding: 0;
            overflow-y: hidden;
        }
        @keyframes gradient {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

        .row {
            display: flex; /* So the Columns in the row display next to each other */
            flex-flow: row;

            /* Sets the column container to 100% height, matching the HTML & BODY tags */
            position:absolute;
            top:0;
            bottom:0;
            left:0;
            right:0;
        }

        .playerBoxShow{
            /* Doesn't work with border-radius:
            border-width: 4px;
            border-style: solid;
            border-image: linear-gradient(to right, darkblue, darkorchid) 1; */
            background: linear-gradient(to right, white, white) padding-box,
            linear-gradient(to right, blue, green, red, yellow) border-box;
            border-radius: 1em;
            border: 4px solid transparent;

            /*Gives  avery cool transparency effect.  But also makes the cards transparent
            -webkit-mask-image: -webkit-gradient(linear, left top,
            left bottom, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)));
            */

            /*
            border: black solid 3px;
            border-radius:1em;
             /*THIS BEING REMOVED RESULTS IN THE CARDS RESIZING TO THEIR DEFAULT SIZE!!!! */
            /*Otherwise the play box doesn't HAVE a height, so it auto-resizes to the size of the cards.
            Then the card height having a % in it doesn't matter, cuz its a percent of nothing
             */
            height:23%;
            margin: .2%;
        }

        .buttonHelp{
            margin: 5px;
            padding: 10px;
            border: none;
            background-color: #4CAF50;
            color: black;
            cursor: pointer;
            font-weight: bold;
            border-radius: 5px;
            transition-duration: 0.4s;
        }
        .buttonShuffle{
            margin: 5px;
            padding: 10px;
            border: none;
            background-color: #f5c320;
            color: black;
            cursor: pointer;
            font-weight: bold;
            border-radius: 5px;
            transition-duration: 0.4s;
        }
        .buttonReset{
            margin: 5px;
            padding: 10px;
            border: none;
            background-color: #d53232;
            color: black;
            cursor: pointer;
            font-weight: bold;
            border-radius: 5px;
            transition-duration: 0.4s;

        }
        .buttonHelp:hover {
            background-color: #363434;
            color: white;
        }
        .buttonShuffle:hover {
            background-color: #363434;
            color: white;
        }
        .buttonReset:hover {
            background-color: #363434;
            color: white;

        }


        .playerActive:hover, .playerActive:focus{
            cursor: pointer;
        }

        /*
        .hideElement{
            display:none;
        }
        .playerBoxHide {
            display:none;
        }
         */

        /* For all non-active players, this is used to have all IMG tags only display the back of the card */
        .backOfCardImages{
            content:url("/Code/Cards/Deck.png") !important;
        }



        @keyframes flash {
            0% {
                box-shadow: inset 0px 0px 200px 200px rgb(217, 6, 6);
            }
            100% {
                box-shadow: inset 0px 0px 0px 0px rgb(217, 6, 6);
            }
        }

        .borderFlash {
            animation: flash .5s 1;
        }



        /*------------------------------Modal Box Styling -------------------------------------------------*/

        /* The Modal (background) */
        .modalBackground {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1; /* Sit on top */
            padding-top: 15%; /* Location of the box from the top of the page*/
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgb(0,0,0); /* Fallback color */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
            cursor: pointer; /* To indicate to the user that they can click outside the box to close it */
        }

        /* The Modal background for WILD cards & when CONTINUING to the next player*/
        .modalBackgroundWild {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 2; /* Sit on top */
            padding-top: 15%; /* Location of the box from the top of the page*/
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        }
        .modalBackgroundContinue{
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 2; /* Sit on top */
            padding-top: 15%; /* Location of the box from the top of the page*/
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            background-color: rgb(0,0,0); /* Black */
        }


        /* Modal Content */
        .modalContent, .modalContentWild, .modalContentContinue {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            border: 1px solid #888;
            width: 70%;
            border-radius:2em; /* Rounded so it looks similar to the cards */
            cursor: default;

        }

        /* Modal Close Button */
        .close {
            color: #aaaaaa;
            float: right;
            font-size: 50px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
<!-- defer is used so that the entire DOM is loaded before the JS is run, so that the event handlers are correctly tied to their UI elements-->
<script defer type="text/javascript" src="GameBoard.js"></script>


<div class="row">
    <div style="flex: 60% !important; min-width: 50%">
        <div id="playerBox0" class="playerBoxShow">
            <div id="playerName0">Player 1</div>
            <div id="playerHand0" class="playerHand"> HAND!!!</div>
        </div>
        <div id="playerBox1" class="playerBoxShow">
            <div id="playerName1">Player 2</div>
            <div id="playerHand1" class="playerHand"> HAND!!!</div>
        </div>
        <div id="playerBox2" class="playerBoxShow">
            <div id="playerName2">Player 3</div>
            <div id="playerHand2" class="playerHand"> HAND!!!</div>
        </div>
        <div id="playerBox3" class="playerBoxShow">
            <div id="playerName3">Player 4 AKA Computer</div>
            <div id="player4Hand3" class="playerHand"> HAND!!!</div>
        </div>


    </div>
    <div style="flex: 39% !important; max-width: 50%; flex-flow: column">
        <div style="height:45%; width: 100%; overflow-x: auto;">
            <div id="buttonBar" style='text-align: center; margin-bottom: 3%;'>
                <button id="helpButton" class="buttonHelp" onclick="">Help & Game Rules</button>
                <button id="shuffleButton" class="buttonShuffle" onclick="">Shuffle Deck</button>
                <button id="resetButton" class="buttonReset" onclick="">Reset Game</button>
            </div>
            <div style="border: 2px solid white; border-radius: 1em; width: 50%; display: flex; flex-direction: column; margin: auto;">
                <div id="activePlayerUI" style='text-align: center;'>
                    <div id="activePlayerUItitle">Current player:</div>
                    <div id="activePlayerUIplayer"></div>
                </div>
                <div id="nextPlayerUI" style='text-align: center;'>
                    <div id="nextPlayerUItitle">Next player:</div>
                    <div id="nextPlayerUIplayer"></div>
                </div>
            </div>
            <div id="miscMessageUI" style='text-align: center;'></div>
            <div id="wildColorUI" ></div>
            <div id="continueButtonNextPlayer" style='display:none; text-align: center;'><button onclick="beginPlayerTransition()">Continue: End your turn instead of playing a card & Continue to next player</button></div>
        </div>
        <div style="height: 45%; display: flex; overflow-x: auto;">
            <div style="height:90%; margin-left:1%; margin-bottom:5%;">
                <img id="UIDiscardCard" src="/Code/Cards/Deck.png" alt="Discard Card" style="height:100%;width:auto;"/>
            </div>
            <div style="height:90%; margin-left:1%;margin-bottom:5%;">
                <img id="UIDeck" src="/Code/Cards/Deck.png" alt="Deck" style="height:100%;width:auto; cursor: pointer"/>
            </div>
        </div>
    </div>
</div>



<div id="modalBackground" class="modalBackground">
    <div class="modalContent">
        <span class="close">&times;</span>
        <div id="modalContentDiv">
        </div>
    </div>
</div>

<div id="modalBackgroundWild" class="modalBackgroundWild">
    <div class="modalContentWild">
        <div id="modalContentWild" style="text-align: center">
            <h2>Select the color of the Wild card (That the next player must match):</h2>
            <br>
            <div id='wildInput'>
                <input type="radio" id="BlueSelection" name="wildcolorsradio" value="Blue" class="wildColorInput" checked>
                <label for="BlueSelection">Blue</label><br>
                <input type="radio" id="GreenSelection" name="wildcolorsradio" value="Green" class="wildColorInput">
                <label for="GreenSelection">Green</label><br>
                <input type="radio" id="RedSelection" name="wildcolorsradio" value="Red" class="wildColorInput">
                <label for="RedSelection">Red</label><br>
                <input type="radio" id="YellowSelection" name="wildcolorsradio" value="Yellow" class="wildColorInput">
                <label for="YellowSelection">Yellow</label><br>
                <button id="wildContinue" onclick="wildColorFunction()"> Continue </button>
            </div>
        </div>
    </div>
</div>

<div id="modalBackgroundContinue" class="modalBackgroundContinue">
    <div class="modalContentContinue" style="text-align: center">
        <div id="modalContentContinue" style="margin:0px;">
            <div style="margin:20px;">Next Player:</div>
            <h2><div id="nextPlayerName">Player ?</div></h2>
            <button id="playerContinue" onclick="endPlayerTransition()" style="margin:20px;"> Continue to next player</button>
        </div>
    </div>
</div>

</body>
</html>